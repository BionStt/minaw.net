{% extends "dynimg/base.html" %}

{% load staticfiles %}

<!-- {% block stylesheet %}
  <link rel="stylesheet" href="{% static 'dynimg/css/main.css' %}">
{% endblock %}

{% block scripts %}
  <script src="{% static 'dynimg/js/script.js' %}"></script>
{% endblock %} -->

{% block title %}
  Home
{% endblock %}

{% block content %}
  <h1>DynImg, générateur d'images dynamiques</h1>
  <h2>Qu'est-ce que c'est ?</h2>
  <p>DynImg permets de lier plusieurs images à une seule adresse web. Quand un lien DynImg est chargé, une image aléatoire est tirée au sort parmi la liste que vous avez préalablement fournie.</p>
  <p>Ça peut être très utile pour faire une bannière web aléatoire facilement, ou pour afficher plusieurs déclinaisons d'un avatar ou d'une signature sur un forum.</p>
  {% if image_id == None %}
    <h2>Créez votre image dynamique dès maintenant !</h2>
    <p>Suivez simplement les étapes ci dessous.</p>
    <form action="{% url "dynimg:main" %}" method="post">
      {% csrf_token %}
      {% for field in form %}
        {{ field.label_tag }}
        <br>
        {{ field }}
        <br>
        {{ field.errors }}
      {% endfor %}
      {{ form.non_field_errors }}
      <input type="submit" value="C'est parti !" />
    </form>
  {% endif %}
  {% if image_id != None %}
    <h2>Succès !</h2>
    <p>Voici le lien vers votre image dynamique. Utilisez le simplement comme un lien ordinaire.</p>
    <code>http://{{ host }}/dynimg/i/{{ image_id }}</code>
    <p>Merci !</p>
  {% endif %}
{% endblock %}
